import{r as S,e as he,h as pe,ag as h,o as L,M as E,O as s,U as n,a0 as Te,P as F,u as o,V as q,j as be,c as z,T as N,I as $e,J as ze,n as K,ah as Ae,Z as T,a as r,a8 as ge,aj as Le,S as B,F as X,a7 as ue,i as ie,aw as je,ax as Ee,R as Ce,ar as Oe}from"./@vue-5c45ea05.js";import{d as Pe,c as Re}from"./pinia-cec93693.js";import{E as Ie,a as Be,b as Me,i as Je}from"./element-plus-14fcd54f.js";import{Q as Qe,R as Ke,S as Ge,B as We,T as He,P as Ze}from"./@element-plus-9d5ab2e7.js";import{m as Xe,o as Ye}from"./@vueuse-271b2628.js";import{_ as me,J as et}from"./json-editor-vue3-8da44fb4.js";import{s as tt}from"./vue3-json-viewer-12048d7d.js";import{n as ye}from"./nanoid-7e542916.js";import{a as ot}from"./axios-aba6f0e0.js";import{l as nt}from"./qs-a8db372b.js";import{e as ce}from"./vue3-eventbus-016e0222.js";import"./vue-demi-71ba0ef2.js";import"./lodash-es-36eb724a.js";import"./@popperjs-c75af06c.js";import"./@ctrl-384ef2e5.js";import"./dayjs-1798568c.js";import"./call-bind-1df9733d.js";import"./get-intrinsic-b9397c9a.js";import"./has-symbols-e8f3ca0e.js";import"./function-bind-22e7ee79.js";import"./has-26d28e02.js";import"./async-validator-dee29e8b.js";import"./memoize-one-297ddbcb.js";import"./escape-html-1d60d822.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-06b136b6.js";import"./jsoneditor-7fa27159.js";import"./side-channel-9112baf6.js";import"./object-inspect-d11bccf2.js";import"./mitt-70879f8c.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))m(c);new MutationObserver(c=>{for(const a of c)if(a.type==="childList")for(const y of a.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&m(y)}).observe(document,{childList:!0,subtree:!0});function p(c){const a={};return c.integrity&&(a.integrity=c.integrity),c.referrerPolicy&&(a.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?a.credentials="include":c.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function m(c){if(c.ep)return;c.ep=!0;const a=p(c);fetch(c.href,a)}})();const lt=()=>{const e=Xe(),t=Ye(e),p=S(!0);he(p,m);function m(){t(p.value)}return pe(m),p};const at={__name:"toggleDarkButton",setup(e){const t=lt();return(p,m)=>{const c=h("el-icon"),a=h("el-button");return L(),E(a,{onClick:m[0]||(m[0]=y=>t.value=!o(t)),size:"small",class:"btn"},{default:s(()=>[n(Te,{appear:"",name:"icon"},{default:s(()=>[F(n(c,{key:"1"},{default:s(()=>[n(o(Qe))]),_:1},512),[[q,!o(t)]]),F(n(c,{key:"2"},{default:s(()=>[n(o(Ke))]),_:1},512),[[q,o(t)]])]),_:1})]),_:1})}}};const st={__name:"MethodTips",props:["method","size"],setup(e){const t=e,p=be(()=>{const m=t.method.toUpperCase();return m==="GET"?"get-style":m==="POST"?"post-style":m==="DELETE"?"delete-style":m==="PUT"||m==="PATCH"?"update-style":"more-style"});return(m,c)=>(L(),z("span",{class:$e(o(p)),style:ze({fontSize:e.size+"px"})},N(e.method.toUpperCase()),7))}},ke=me(st,[["__scopeId","data-v-3e3cc317"]]),it={__name:"JsonText",props:{value:{type:Object}},setup(e){return(t,p)=>(L(),E(o(tt),{value:e.value,copyable:"",boxed:"",sort:""},null,8,["value"]))}},rt=(e,t)=>{t.value=!0,K(()=>{e.focus()})};const dt={__name:"CodeTips",props:["code"],setup(e){const t=e,p=S("succes");function m(){t.code==="none"?p.value="none":t.code<200&&t.code>=100?p.value="skyblue":t.code>=200&&t.code<300?p.value="success":t.code>=300&&t.code<400?p.value="redirect":p.value="error"}return m(),Ae(m),(c,a)=>(L(),z("span",{class:$e(p.value)},N(e.code),3))}},ut=me(dt,[["__scopeId","data-v-50998eca"]]),Ve=e=>S(e),Fe=Pe("folderList",{state:()=>({currentFolderId:0,currentApiId:0,folderList:[]}),actions:{updateId(e,t){this.currentFolderId=e,this.currentApiId=t},addFolder(){const e=ye(5),t=ye(5);this.folderList.push({id:e,folder_name:"New request folder",apiList:[{id:t,name:"New request",method:"get",url:"https://dog.ceo/api/breeds/image/random",config:{data:{}}}]}),this.updateId(e,t)},addRequst(){const e=ye(5),t={id:e,name:"New request",method:"get",url:"https://dog.ceo/api/breeds/image/random",config:{data:{}}};this.folderList.some(p=>{if(this.currentFolderId===p.id)return p.apiList.push(t),!0}),this.updateId(this.currentFolderId,e)},deleteFolder(e){this.folderList.some((t,p,m)=>{if(t.id===e)return m.splice(p,1),!0})},deleteRequest(e,t){this.folderList[e].apiList.splice(t,1)},updateFolderName(e,t){this.folderLis[e].folder_name=t}}}),G=ot.create();G.loadingInstance=null;G.interceptors.response.use(e=>(G.loadingInstance.close(),e),e=>{console.dir(e);let t="";return e.code==="ECONNABORTED"||e.message==="Network Error"||e.message.includes("timeout")?t="请求超时或没有网络，请稍后重试":e.code==="ERR_BAD_REQUEST"?t="错误的地址或请求方式、参数有误":t=e,Ie({message:t,type:"error",duration:3e3}),G.loadingInstance.close(),Promise.reject(e)});G.interceptors.request.use(e=>(G.loadingInstance=Be.service({fullscreen:!0}),e.method==="post"&&(e.headers["Content-Type"]="application/x-www-form-urlencoded",e.data=nt.stringify(e.data)),e),e=>Promise.reject(e));const ct=async(e,t,p)=>{(t==="get"||t==="delete")&&delete p.data;const m={url:e,method:t,...p};return G(m)},pt=()=>{const e=Fe(),t=e.folderList,p=S(!0),m=T({}),c=T({times:0,status:"none"});e.currentFolderId&&e.currentApiId&&(p.value=!1);const a=T({id:"",method:"",name:"",url:"",config:{}}),y=T({}),x=S(te(t,e.currentFolderId)),V=be({get(){return e.currentFolderId&&e.currentApiId?(t[x.value].folder_name||(t[x.value].folder_name="New request folder"),t[x.value]):""},set(i){e.updateFolderName(x,i||"New request folder")}}),k=S(""),C=[{name:"query",label:"查询参数"},{name:"body",label:"请求体"},{name:"authorization",label:"Authorization"}],w=S("query"),$=T([]),_=T({key:"key",value:"value"}),f=S(!1),g=[{name:"application/json",label:"application/json"},{name:"application/x-www-form-urlencoded",label:"application/x-www-form-urlencoded"},{name:"multipart/form-data",label:"multipart/form-data"}],b=S("application/json"),I=T([]),P=S(!1),R=T({key:"",value:""}),A=S(-2);function U(){c.times=0,c.status="none"}function fe(){const i=a.url.indexOf("?")+1;if(!i){$.splice(0,$.length);return}const l=a.url.slice(i).split("&");if(!l[0]){$.splice(0,$.length);return}l[l.length-1].length||l.pop();const v=l.map(D=>{const Z=D.indexOf("="),j={key:"",value:""};return Z!=-1?(j.key=D.slice(0,Z),j.value=D.slice(Z+1)):j.key=D,j});$.splice(0,$.length),v.forEach(D=>{$.push(D)})}function Y(i,l){f.value=!1,_.key="key",_.value="value",$.push({key:i,value:l}),a.url.includes("?")?a.url+="&":a.url+="?",a.url+=`${i}=${l}`}function ee(){f.value=!0}function te(i,l){let v=0;for(;v<i.length;v++)if(i[v].id===l)return v;return 0}function W(){t.some(i=>{if(i.id===e.currentFolderId)return i.apiList.some(l=>{if(l.id===e.currentApiId){for(let v in l)a[v]=l[v];return!0}}),!0})}e.$onAction(({name:i,after:l,args:v})=>{const D=Be.service({fullscreen:!0,target:"#api-page",text:"loading"});i==="updateId"&&(v[0]&&v[1]?l(()=>{p.value&&(p.value=!1),W()}):l(()=>{p.value=!0})),l(()=>{x.value=te(t,e.currentFolderId),oe(),K(()=>{setTimeout(()=>{D.close()},Math.random()*1e3)})})});function oe(){U();for(let i in y)delete y[i];for(let i in m)delete m[i];ce.emit("remakeData"),w.value="query",b.value="application/json",k.value="",I.splice(0,I.length)}e.$subscribe((i,l)=>{localStorage.setItem("folder-list",JSON.stringify(l.folderList))}),he(a,()=>{J(),t.length&&(a.url.length>0?fe():a.url="https://dog.ceo/api/breeds/image/random",t[x.value].apiList.some(i=>{if(i.id===a.id)for(let l in i)i[l]=a[l]}))},{immediate:!0});async function M(){for(let l in y){H();break}(a.method!=="get"||a.method!=="delete")&&(b.value==="application/json"?a.config.data=m:b.value==="application/x-www-form-urlencoded"&&(a.config.data=I)),k.value?a.config.headers={Authorization:k.value}:delete a.config.headers;const i=+new Date;try{const l=await ct(a.url,a.method,a.config);c.status=l.status;for(let v in l.data)y[v]=l.data[v]}catch(l){c.status=l.request.status,l.response&&(l=l.response.data);for(let v in l)y[v]=l[v]}finally{c.times=+new Date-i}}he(b,_e);function J(){a.name||(a.name="New request")}const ne=be(()=>JSON.stringify(y));function le(i){for(let l in m)delete m[l];for(let l in i)m[l]=i[l]}function _e(){b.value==="application/json"?I.splice(0,I.length):b.value==="application/x-www-form-urlencoded"?ae():b.value==="multipart/form-data"&&(ae(),I.splice(0,I.length))}function H(){for(let i in y)delete y[i]}function ae(){for(let i in m)delete m[i];ce.emit("remakeData")}function Q(i){I.splice(i,1)}function d(i,l){for(let v in l)R[v]=l[v];P.value=!0,A.value=i}function re(){P.value=!0,A.value=-1}function ve(){const{key:i,value:l}=R;A.value===-1?I.push({key:i,value:l}):A.value>=0&&I.splice(A.value,1,{key:i,value:l}),de()}function de(){A.value=-2,R.key="",R.value="",P.value=!1}return{closeUrlenCodeWindow:de,sumitForUrlenCode:ve,urlencodeData:I,apiInfor:a,getApi:W,folderInfor:V,responseDataString:ne,sendRequest:M,flagEmpty:p,responseInfor:c,responseData:y,paramsList:$,addQuery:Y,toAddQuery:ee,paramsItem:_,addQueryFlag:f,activeBodyName:b,bodyTabBarList:g,tabBarList:C,activeName:w,toChangeBody:le,token:k,toDeleteUrlencode:Q,toEditUrlencode:d,showPushUrlencode:P,newUrlencode:R,pushUrlencode:re}},mt={created(){ce.on("remakeData",()=>{for(let e in this.jsonData)delete this.jsonData[e];this.$emit("changeBody")})},components:{JsonEditorVue:et},data(){return{jsonData:{}}},emits:["changeBody"],methods:{async validate(e){(await e.validate()).length&&Ie({message:"输入的JSON格式有误!",type:"error"})}},watch:{jsonData(e){this.$emit("changeBody",e)}}};function ft(e,t,p,m,c,a){const y=h("json-editor-vue");return L(),E(y,{class:"editor",modelValue:c.jsonData,"onUpdate:modelValue":t[0]||(t[0]=x=>c.jsonData=x),onBlur:a.validate},null,8,["modelValue","onBlur"])}const _t=me(mt,[["render",ft]]);const O=e=>(je("data-v-b6aac934"),e=e(),Ee(),e),vt={id:"api-page"},gt={class:"name"},yt={class:"folder-name"},ht=O(()=>r("span",null,"接口文件夹名称：",-1)),bt={class:"api-name"},kt=O(()=>r("span",null,"接口名称：",-1)),It={id:"url-method-send-box"},xt={id:"method-url"},wt={id:"config"},Lt=O(()=>r("h2",null,"Config",-1)),Ct={id:"params-table"},Vt={class:"add-query-box"},$t={class:"add-query-item"},Bt=O(()=>r("div",null,"key：",-1)),Ft={class:"add-query-item"},qt=O(()=>r("div",null,"value：",-1)),St={class:"dialog-footer"},Ut={id:"json-edit"},Dt={class:"dialog-footer"},Nt={id:"formdata"},Tt=O(()=>r("h6",null,"暂未实现",-1)),zt=[Tt],At=O(()=>r("div",{class:"token-tips"},"token:",-1)),jt={id:"response-box"},Et=O(()=>r("h2",null,"Response",-1)),Ot={id:"response-infor"},Pt={class:"infor-title"},Rt={class:"infor-title"},Mt={class:"infor-title"},Jt={id:"response-empty"},Qt={class:"empty"},Kt={__name:"ApiPage",setup(e){const{closeUrlenCodeWindow:t,pushUrlencode:p,sumitForUrlenCode:m,newUrlencode:c,showPushUrlencode:a,toDeleteUrlencode:y,toEditUrlencode:x,sendRequest:V,urlencodeData:k,tabBarList:C,activeName:w,toChangeBody:$,activeBodyName:_,bodyTabBarList:f,addQuery:g,paramsItem:b,addQueryFlag:I,toAddQuery:P,paramsList:R,responseData:A,apiInfor:U,getApi:fe,folderInfor:Y,responseDataString:ee,flagEmpty:te,responseInfor:W,token:oe}=pt(),M=Ve(!1),J=Ve(!1),ne=S(null),le=S(null),_e=T(["get","post","delete","put","patch"]);function H(Q,d){rt(Q,d?J:M)}function ae(Q){Q?(console.log("该显示文件夹输入框了"),J.value=!1,H(le.value,0)):(M.value=!1,H(ne.value,1))}return fe(),pe(()=>{document.querySelector("#method-url .el-input__inner").style.display="none"}),(Q,d)=>{const re=h("el-tooltip"),ve=h("el-option"),de=h("el-select"),i=h("el-input"),l=h("el-button"),v=h("el-table-column"),D=h("el-table"),Z=h("el-dialog"),j=h("el-tab-pane"),Se=h("el-radio"),Ue=h("el-radio-group"),xe=h("el-form-item"),De=h("el-form"),Ne=h("el-tabs"),we=h("el-empty");return L(),z(X,null,[F(r("div",vt,[r("div",gt,[r("div",yt,[ht,n(re,{content:"点击修改文件夹的名称",placement:"top-start"},{default:s(()=>[F(r("span",{class:"name-button",onClick:d[0]||(d[0]=u=>H(le.value,0))},N(o(Y).folder_name),513),[[q,!o(M)]])]),_:1}),F(r("input",{onKeyup:d[1]||(d[1]=ge(u=>ae(0),["down"])),ref_key:"folderName",ref:le,"onUpdate:modelValue":d[2]||(d[2]=u=>o(Y).folder_name=u),onBlur:d[3]||(d[3]=u=>M.value=!1)},null,544),[[Le,o(Y).folder_name,void 0,{lazy:!0}],[q,o(M)]])]),r("div",bt,[kt,n(re,{content:"点击修改接口的名称",placement:"top-start"},{default:s(()=>[F(r("span",{class:"name-button",onClick:d[4]||(d[4]=u=>H(ne.value,1))},N(o(U).name),513),[[q,!o(J)]])]),_:1}),F(r("input",{onKeyup:d[5]||(d[5]=ge(u=>ae(1),["up"])),ref_key:"apiName",ref:ne,"onUpdate:modelValue":d[6]||(d[6]=u=>o(U).name=u),onBlur:d[7]||(d[7]=u=>J.value=!1)},null,544),[[Le,o(U).name,void 0,{lazy:!0}],[q,o(J)]])])]),r("div",null,[r("div",It,[r("div",xt,[n(de,{modelValue:o(U).method,"onUpdate:modelValue":d[8]||(d[8]=u=>o(U).method=u),class:"method-select",size:"large"},{prefix:s(()=>[n(ke,{method:o(U).method,size:"17"},{default:s(()=>[B(N(Q.item),1)]),_:1},8,["method"])]),default:s(()=>[(L(!0),z(X,null,ue(_e,(u,se)=>(L(),E(ve,{key:se,value:u},{default:s(()=>[n(ke,{method:u},{default:s(()=>[B(N(u),1)]),_:2},1032,["method"])]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"]),n(i,{"input-style":{height:"42px"},modelValue:o(U).url,"onUpdate:modelValue":d[9]||(d[9]=u=>o(U).url=u),modelModifiers:{lazy:!0},placeholder:"Please input some url",clearable:"",size:"large"},null,8,["modelValue"])]),n(l,{type:"primary",onClick:o(V),size:"large"},{default:s(()=>[B("Send")]),_:1},8,["onClick"])]),r("div",wt,[Lt,n(Ne,{modelValue:o(w),"onUpdate:modelValue":d[20]||(d[20]=u=>ie(w)?w.value=u:null),class:"demo-tabs"},{default:s(()=>[n(j,{height:"100",label:o(C)[0].label,name:o(C)[0].name},{default:s(()=>[r("div",Ct,[n(l,{size:"small",onClick:o(P),style:{position:"absolute","z-index":"1000",right:"10px",top:"7px"}},{default:s(()=>[B("新增查询参数")]),_:1},8,["onClick"]),n(D,{data:o(R),style:{width:"100%"},height:"160","empty-text":"没有查询参数呢"},{default:s(()=>[n(v,{prop:"key",label:"key"}),n(v,{prop:"value",label:"value"})]),_:1},8,["data"])]),n(Z,{modelValue:o(I),"onUpdate:modelValue":d[14]||(d[14]=u=>ie(I)?I.value=u:null),title:"新增查询参数"},{footer:s(()=>[r("span",St,[n(l,{onClick:d[12]||(d[12]=u=>I.value=!1)},{default:s(()=>[B("取消")]),_:1}),n(l,{type:"primary",onClick:d[13]||(d[13]=u=>o(g)(o(b).key,o(b).value))},{default:s(()=>[B("确认")]),_:1})])]),default:s(()=>[r("div",Vt,[r("div",$t,[Bt,n(i,{modelValue:o(b).key,"onUpdate:modelValue":d[10]||(d[10]=u=>o(b).key=u)},null,8,["modelValue"])]),r("div",Ft,[qt,n(i,{modelValue:o(b).value,"onUpdate:modelValue":d[11]||(d[11]=u=>o(b).value=u)},null,8,["modelValue"])])])]),_:1},8,["modelValue"])]),_:1},8,["label","name"]),n(j,{label:o(C)[1].label,name:o(C)[1].name,disabled:o(U).method==="get"},{default:s(()=>[n(Ue,{modelValue:o(_),"onUpdate:modelValue":d[15]||(d[15]=u=>ie(_)?_.value=u:null),class:"ml-4"},{default:s(()=>[(L(!0),z(X,null,ue(o(f),(u,se)=>(L(),E(Se,{ke:se,label:u.label,size:"small"},{default:s(()=>[B(N(u.name),1)]),_:2},1032,["ke","label"]))),256))]),_:1},8,["modelValue"]),F(r("div",Ut,[n(_t,{onChangeBody:o($)},null,8,["onChangeBody"])],512),[[q,o(_)==="application/json"]]),F(r("div",null,[n(D,{data:o(k),style:{width:"100%"},"empty-text":"没有请求体呢"},{default:s(()=>[n(v,{prop:"key",label:"key"}),n(v,{prop:"value",label:"value"}),n(v,{align:"right"},{header:s(()=>[n(l,{type:"primary",size:"small",onClick:o(p)},{default:s(()=>[B("增加一个键值对")]),_:1},8,["onClick"])]),default:s(u=>[n(l,{size:"small",onClick:se=>o(x)(u.$index,u.row)},{default:s(()=>[B("修改")]),_:2},1032,["onClick"]),n(l,{size:"small",type:"danger",onClick:se=>o(y)(u.$index,u.row)},{default:s(()=>[B("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),n(Z,{onClose:o(t),modelValue:o(a),"onUpdate:modelValue":d[18]||(d[18]=u=>ie(a)?a.value=u:null),title:"修改/新增键值对"},{footer:s(()=>[r("span",Dt,[n(l,{onClick:o(t)},{default:s(()=>[B("取消")]),_:1},8,["onClick"]),n(l,{type:"primary",onClick:o(m)},{default:s(()=>[B("确认 ")]),_:1},8,["onClick"])])]),default:s(()=>[n(De,{model:o(c)},{default:s(()=>[n(xe,{label:"key值","label-width":"80"},{default:s(()=>[n(i,{modelValue:o(c).key,"onUpdate:modelValue":d[16]||(d[16]=u=>o(c).key=u),autocomplete:"off",placeholder:"请输入key值"},null,8,["modelValue"])]),_:1}),n(xe,{label:"value值","label-width":"80"},{default:s(()=>[n(i,{onKeyup:ge(o(m),["enter"]),modelValue:o(c).value,"onUpdate:modelValue":d[17]||(d[17]=u=>o(c).value=u),autocomplete:"off",placeholder:"请输入value值"},null,8,["onKeyup","modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["onClose","modelValue"])],512),[[q,o(_)==="application/x-www-form-urlencoded"]]),F(r("div",Nt,zt,512),[[q,o(_)==="multipart/form-data"]])]),_:1},8,["label","name","disabled"]),n(j,{label:o(C)[2].label,name:o(C)[2].name},{default:s(()=>[At,n(i,{placeholder:"输入token值",modelValue:o(oe),"onUpdate:modelValue":d[19]||(d[19]=u=>ie(oe)?oe.value=u:null),clearable:""},null,8,["modelValue"])]),_:1},8,["label","name"])]),_:1},8,["modelValue"])]),r("div",jt,[Et,r("div",Ot,[r("span",Pt,"响应时间: "+N(o(W).times)+"ms",1),r("span",Rt,[B("状态码: "),n(ut,{code:+o(W).status?+o(W).status:"none"},null,8,["code"])]),r("span",Mt,"大小: "+N(o(ee).length-2)+"B",1)]),F(r("div",Jt,[n(we,{"image-size":100,description:"未发起请求呢"})],512),[[q,o(ee).length===2]]),F(n(it,{value:o(A)},null,8,["value"]),[[q,o(ee).length>2]])])])],512),[[q,!o(te)]]),F(r("div",Qt,[n(we,{description:"无内容，快快发起请求吧~"})],512),[[q,o(te)]])],64)}}},Gt=me(Kt,[["__scopeId","data-v-b6aac934"]]),Wt=()=>{const e=Fe(),{folderList:t}=e;let p=[];(()=>{let _=localStorage.getItem("folder-list");_!=null?(_=JSON.parse(_),_.forEach(f=>{t.push(f)}),t.length?(e.currentFolderId=t[0].id,e.currentApiId=t[0].apiList[0].id):e.updateId(0,0)):localStorage.setItem("folder-list",JSON.stringify([]))})(),pe(()=>{p=document.getElementsByClassName("el-menu-item")});function m(_,f,g){_===e.currentFolderId&&f===e.currentApiId||(e.updateId(_,f),K(()=>{a(c()+g)}))}function c(){let _=0;for(let f=0;f<t.length&&t[f].id!==e.currentFolderId;f++)_+=t[f].apiList.length;return _}function a(_){for(let f=0;f<p.length;f++)p[f].classList.remove("is-active");p[_].classList.add("is-active")}function y(){e.addFolder(),K(()=>{a(p.length-1)})}function x(){if(V())return;e.addRequst();let _=0;t.some(f=>{if(_+=f.apiList.length,f.id===e.currentFolderId)return!0}),K(()=>{a(_-1)})}function V(){if(!t.length)return Ie({message:"没有文件夹了，不能执行该操作!",type:"warn"}),!0}function k(_){const f=w(e.currentFolderId,t);return Me.confirm(`真的要删除${_?"接口 "+t[f].apiList[w(e.currentApiId,t[f].apiList)].name:"文件夹 "+t[f].folder_name} 吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"})}async function C(){if(V()||!await k(0))return;const f=e.currentFolderId;e.deleteFolder(f),t.length===0?e.updateId(0,0):(e.updateId(t[0].id,t[0].apiList[0].id),K(()=>{a(0)}))}function w(_,f){let g=0;for(;g<f.length;g++)if(_===f[g].id)return g;return-1}async function $(){if(V())return;let _=w(e.currentFolderId,t),f=w(e.currentApiId,t[_].apiList);if(f===0){C();return}await k(1)&&(e.deleteRequest(_,f),e.updateId(t[_].id,t[_].apiList[f-1?f-1:0].id),K(()=>{a(c()+(f-1?f-1:0))}))}return{folderList:t,updateApiInformation:m,addFolder:y,addRequest:x,deleteFolder:C,deleteRequest:$}};const Ht={id:"top-bar"},Zt=r("h1",null,"Kinght-Postman",-1),Xt={id:"main"},Yt={id:"meun"},eo={id:"function-group"},to={class:"tab-bar-name"},oo={class:"api-tab-bar-name"},no={key:1,id:"none-folder-tips"},lo={id:"api-content"},ao={__name:"App",setup(e){const{folderList:t,updateApiInformation:p,addFolder:m,addRequest:c,deleteFolder:a,deleteRequest:y}=Wt();function x({target:V}){V.classList.add("hight-button"),setTimeout(()=>{V.classList.remove("hight-button")},1e3)}return pe(()=>{document.title="Kinght-Postman 接口测试工具";const V=document.querySelector("#json-edit");V.querySelector(".jsoneditor-menu a").remove(),V.querySelector(".jsoneditor-menu").style.backGroundColor="skyblue",V.querySelector(".full-screen").style.right=10+"px"}),(V,k)=>{const C=h("el-icon"),w=h("el-tooltip"),$=h("el-menu-item"),_=h("el-sub-menu"),f=h("el-menu");return L(),z(X,null,[r("div",Ht,[Zt,n(at)]),r("div",Xt,[r("div",Yt,[r("div",eo,[r("div",{onClick:k[0]||(k[0]=(...g)=>o(m)&&o(m)(...g)),onMouseenter:x},[n(w,{content:"增加文件夹",placement:"top-start"},{default:s(()=>[n(C,{size:"20"},{default:s(()=>[n(o(Ge))]),_:1})]),_:1})],32),r("div",{onClick:k[1]||(k[1]=(...g)=>o(c)&&o(c)(...g)),onMouseenter:x},[n(w,{content:"增加接口",placement:"top-start"},{default:s(()=>[n(C,{size:"20"},{default:s(()=>[n(o(We))]),_:1})]),_:1})],32),r("div",{onClick:k[2]||(k[2]=(...g)=>o(a)&&o(a)(...g)),onMouseenter:x},[n(w,{content:"删除文件夹",placement:"top-start"},{default:s(()=>[n(C,{size:"20"},{default:s(()=>[n(o(He))]),_:1})]),_:1})],32),r("div",{onClick:k[3]||(k[3]=(...g)=>o(y)&&o(y)(...g)),onMouseenter:x},[n(w,{content:"删除接口",placement:"top-start"},{default:s(()=>[n(C,{size:"20"},{default:s(()=>[n(o(Ze))]),_:1})]),_:1})],32)]),o(t).length?(L(),E(f,{key:0,"default-active":o(t)[0]?o(t)[0].apiList[0].id:""},{default:s(()=>[(L(!0),z(X,null,ue(o(t),g=>(L(),E(_,{key:g.id,index:g.id},{title:s(()=>[r("span",to,N(g.folder_name),1)]),default:s(()=>[(L(!0),z(X,null,ue(g.apiList,(b,I)=>(L(),E($,{onClick:P=>o(p)(g.id,b.id,I),key:b.id,index:b.id},{default:s(()=>[n(ke,{method:b.method,size:13},null,8,["method"]),n(w,{content:b.name,placement:"top-start"},{default:s(()=>[r("span",oo,N(b.name),1)]),_:2},1032,["content"])]),_:2},1032,["onClick","index"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])):Ce("",!0),o(t).length?Ce("",!0):(L(),z("div",no," 没有任何一个目录 "))]),r("div",lo,[n(Gt)])])],64)}}},qe=Oe(ao);qe.use(Je).use(Re()).use(ce);qe.mount("#app");
